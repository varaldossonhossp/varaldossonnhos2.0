  <!-- ============================================================
       ğŸ’™ VARAL DOS SONHOS â€” Carrinho de AdoÃ§Ã£o
       ------------------------------------------------------------
       Esta pÃ¡gina Ã© responsÃ¡vel pela etapa final do fluxo de adoÃ§Ã£o.
       O usuÃ¡rio revisa a cartinha selecionada, escolhe o ponto de coleta,
       e confirma a adoÃ§Ã£o, que Ã© registrada na API e dispara um e-mail
       de confirmaÃ§Ã£o via EmailJS.
  ============================================================ -->

<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğŸ’™ Carrinho de AdoÃ§Ã£o | Varal dos Sonhos</title>

  <!-- ğŸ¨ FONTES E ESTILOS GERAIS -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet" />
  <link rel="icon" href="../imagens/favicon.png" type="image/png" />
  <link rel="stylesheet" href="../css/style.css" />
  <link rel="stylesheet" href="../css/cloudinho.css" />
</head>

<body class="bg-gradiente">
    <div id="header"></div>

  <!-- ============================================================
       ğŸ’™ SEÃ‡ÃƒO PRINCIPAL DO CARRINHO
       ------------------------------------------------------------
       O conteÃºdo principal apresenta as informaÃ§Ãµes da cartinha
       selecionada e o formulÃ¡rio de finalizaÃ§Ã£o da adoÃ§Ã£o.
  ============================================================ -->
  <main class="container container-carrinho">

    <h2 class="titulo-pagina">ğŸ’™ Carrinho de AdoÃ§Ã£o</h2>
    <p>Revise suas informaÃ§Ãµes antes de finalizar a adoÃ§Ã£o da cartinha.</p>

    <div class="cartinha-selecionada" style="
        border: 2px dashed #0078ff;
        border-radius: 12px;
        padding: 20px;
        margin: 20px auto;
        max-width: 600px;
        background: #f8fbff;
        display: flex;
        align-items: center;
        gap: 20px;
        justify-content: center;
        flex-wrap: wrap;
    ">
      <!-- Imagem dinÃ¢mica da cartinha -->
      <img
        id="cartinha-img"
        src="../imagens/cartinha-placeholder.png"
        alt="Cartinha selecionada"
        style="width: 160px; height: auto; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);"
      />

      <!-- InformaÃ§Ãµes dinÃ¢micas: nome e sonho -->
      <div class="info-cartinha">
        <strong id="nome-crianca" style="display:block; font-size:1.2rem; color:#004aad; margin-bottom:6px;">Nome da CrianÃ§a</strong>
        <span id="sonho-crianca" style="color:#555;">Sonho: (a ser preenchido dinamicamente)</span>
      </div>
    </div>

    <!-- ============================================================
         ğŸ“¦ SEÃ‡ÃƒO DE PONTOS DE COLETA
         ------------------------------------------------------------
         Carregada automaticamente a partir da API /api/pontosdecoleta.
         O usuÃ¡rio deve selecionar um ponto de entrega para o presente.
    ============================================================ -->
    <div class="ponto-coleta" style="margin: 20px auto; max-width: 400px;">
      <label for="select-ponto" style="font-weight:600; color:#003d7a;">
        ğŸ“¦ Ponto de Coleta:
      </label>
      <select id="select-ponto" style="
          width:100%;
          padding:10px;
          margin-top:6px;
          border:1px solid #0078ff;
          border-radius:8px;
          font-size:1rem;
          color:#003d7a;
      ">
        <option>Selecione um ponto...</option>
      </select>
    </div>

    <!-- ============================================================
         âœ¨ BOTÃƒO DE FINALIZAÃ‡ÃƒO
         ------------------------------------------------------------
         Ao clicar, o script js/carrinho.js envia as informaÃ§Ãµes para:
          â€¢ /api/adocoes.js  â†’ cria registro da adoÃ§Ã£o no Airtable
          â€¢ EmailJS          â†’ envia confirmaÃ§Ã£o ao doador
         ApÃ³s sucesso, exibe mensagem e redireciona o usuÃ¡rio.
    ============================================================ -->
    <div style="text-align:center; margin-top:30px;">
      <button id="btn-finalizar" class="btn-acao principal" style="
          background:#0078ff;
          border:none;
          border-radius:30px;
          padding:12px 30px;
          color:white;
          font-size:1.1rem;
          font-weight:600;
          cursor:pointer;
          transition:0.3s;
      ">
        âœ¨ Finalizar AdoÃ§Ã£o
      </button>
    </div>
  </main>

  <!-- ============================================================
       ğŸ”¹ FOOTER DINÃ‚MICO
       ------------------------------------------------------------
       O rodapÃ© institucional tambÃ©m Ã© um componente HTML externo,
       carregado automaticamente do diretÃ³rio /componentes/footer.html.
       ContÃ©m informaÃ§Ãµes sobre o projeto e crÃ©ditos.
  ============================================================ -->
  <div id="footer"></div>
  <div id="cloudinho"></div>

  <!-- ============================================================
       âš™ï¸ SCRIPT DE COMPONENTES DINÃ‚MICOS
       ------------------------------------------------------------
       Este bloco carrega automaticamente header, footer e cloudinho
       de forma modular, tanto na raiz quanto dentro de /pages/.
  ============================================================ -->
  <script>
    async function carregarComponente(id, arquivo) {
      // Determina o caminho base (ajuste automÃ¡tico para subpastas)
      const base = location.pathname.includes("/pages/") ? "../componentes/" : "componentes/";
      const resp = await fetch(base + arquivo);
      if (resp.ok) {
        document.getElementById(id).innerHTML = await resp.text();
      }
    }

    // Carregamento dos trÃªs componentes principais
    carregarComponente("header", "header.html");
    carregarComponente("footer", "footer.html");
    carregarComponente("cloudinho", "cloudinho.html");
  </script>

  <!-- ============================================================
       ğŸ“œ SCRIPTS FUNCIONAIS DO CARRINHO
       ------------------------------------------------------------
       O arquivo js/carrinho.js implementa toda a lÃ³gica da pÃ¡gina:
        â€¢ Leitura do localStorage (cartinha selecionada)
        â€¢ Preenchimento dos campos na tela
        â€¢ ComunicaÃ§Ã£o com APIs (pontos e adoÃ§Ã£o)
        â€¢ Envio de e-mail de confirmaÃ§Ã£o
        â€¢ Limpeza e redirecionamento final
  ============================================================ -->
  <script src="../js/carrinho.js"></script>
  <script src="../js/cloudinho.js"></script>
  <script src="../js/header.js"></script>
</body>
</html>
