<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <!-- ============================================================
       üíô VARAL DOS SONHOS ‚Äî P√°gina Pontos de Coleta
       Autor: Equipe Beta | Deploy: Vercel + Airtable + EmailJS
  ============================================================ -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Veja onde entregar os presentes das cartinhas adotadas no Varal dos Sonhos." />
  <title>Pontos de Coleta | Varal dos Sonhos</title>

  <!-- CSS principal e da p√°gina -->
  <link rel="stylesheet" href="../css/style.css" />
  <link rel="stylesheet" href="../css/pontosdecoleta.css" />
  

  <link rel="icon" href="../imagens/favicon.png" type="image/png" />
</head>

<body>
  <!-- Header din√¢mico -->
  <div id="header"></div>

  <main class="container">
    <h1 class="titulo-pagina">üì¶ Pontos de Coleta</h1>
    <p class="descricao">
      Confira onde voc√™ pode entregar os presentes das cartinhas adotadas üíå
    </p>

    <section id="lista-pontos" class="grid-pontos">
      <p>Carregando pontos de coleta...</p>
    </section>
  </main>

  <!-- Footer din√¢mico -->
  <div id="footer"></div>

  <!-- Cloudinho (assistente virtual) -->
  <div id="cloudinho"></div>

    <!-- Carregador de componentes (funciona na raiz e em /pages) -->
<script>
    // ------------------------------------
    // --- Configura√ß√µes de Caminho Base ---
    // ------------------------------------
    // Caminhos absolutos garantem que o script funcione 
    // na raiz (/) ou em subpastas (/pages/).
    const BASE_URL_COMPONENTES = "/componentes/";
    const BASE_URL_CSS = "/css/";
    const BASE_URL_JS = "/js/"; // Novo caminho para a pasta JS

    // 1. FUN√á√ÉO PARA CARREGAR E INSERIR COMPONENTES HTML
    async function carregarComponente(id, arquivo) {
        const url = BASE_URL_COMPONENTES + arquivo;
        
        try {
            const resp = await fetch(url);
            
            if (resp.ok) {
                document.getElementById(id).innerHTML = await resp.text();
            } else {
                console.error(`Erro ao carregar componente ${arquivo}. Status: ${resp.status}`);
            }
        } catch (error) {
            console.error(`Falha na requisi√ß√£o de ${arquivo}:`, error);
        }
    }
    
    // 2. FUN√á√ÉO PARA CARREGAR E INSERIR ARQUIVOS CSS
    function carregarCSS(arquivo) {
        const url = BASE_URL_CSS + arquivo;
        
        // Evita carregar o mesmo arquivo CSS m√∫ltiplas vezes
        if (document.querySelector(`link[href="${url}"]`)) {
            return; 
        }

        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = url;
        
        document.head.appendChild(link);
    }

    // 3. FUN√á√ÉO PARA CARREGAR E INSERIR ARQUIVOS JAVASCRIPT
    function carregarJS(arquivo) {
        const url = BASE_URL_JS + arquivo;
        
        // Evita carregar o mesmo arquivo JS m√∫ltiplas vezes
        if (document.querySelector(`script[src="${url}"]`)) {
            return;
        }

        // Cria o elemento <script>
        const script = document.createElement('script');
        
        // Define os atributos
        script.src = url;
        script.defer = true; // Adiciona 'defer' para garantir que o script n√£o bloqueie o parsing do HTML
        
        // Adiciona o elemento <script> ao <body> do documento (melhor para performance)
        document.body.appendChild(script);
    }

    // ---------------------
    // --- EXECU√á√ÉO GERAL ---
    // ---------------------

    // 1. Carregar os estilos (CSS)
    carregarCSS("header.css");
    carregarCSS("footer.css");
    carregarCSS("cloudinho.css");
    
    // 2. Carregar os componentes HTML
    carregarComponente("header", "header.html");
    carregarComponente("footer", "footer.html");
    carregarComponente("cloudinho", "cloudinho.html");

    // 3. Carregar os scripts JavaScript
    carregarJS("header.js");
    carregarJS("footer.js");
    carregarJS("cloudinho.js");

</script>

</body>
</html>
